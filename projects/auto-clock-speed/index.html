<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><style>:root{--accent-color:#FF4D4D}</style><title>auto-clock-speed</title><meta name=description content="Software Developer & Student"><meta name=keywords content><meta property="og:url" content="https://jr0.org/projects/auto-clock-speed/"><meta property="og:type" content="website"><meta property="og:title" content="auto-clock-speed"><meta property="og:description" content="Software Developer & Student"><meta property="og:image" content="/images/35516367.jpg"><meta name=twitter:card content="summary_large_image"><meta name=twitter:title content="auto-clock-speed"><meta name=twitter:description content="Software Developer & Student"><meta property="twitter:domain" content="https://jr0.org/projects/auto-clock-speed/"><meta property="twitter:url" content="https://jr0.org/projects/auto-clock-speed/"><meta name=twitter:image content="/images/35516367.jpg"><link rel=canonical href=https://jr0.org/projects/auto-clock-speed/><link rel=stylesheet type=text/css href=https://jr0.org/css/normalize.min.css media=print onload='this.media="all"'><link rel=stylesheet type=text/css href=https://jr0.org/css/main.css><link disabled id=dark-theme rel=stylesheet href=https://jr0.org/css/dark.css><script src=https://jr0.org/js/svg-injector.min.js></script>
<script src=https://jr0.org/js/feather-icons.min.js></script>
<script src=https://jr0.org/js/main.js></script></head><body><script type=text/javascript>setThemeByUserPref()</script><header class=header><nav class=header-nav><div class=avatar><a href=https://jr0.org><img src=https://jr0.org/images/35516367.jpg alt=avatar></a></div><div class=nav-title><a class=nav-brand href=https://jr0.org>JR0.org</a></div><div class=nav-links><div class=nav-link><a href=https://jr0.org/><span data-feather=home></span> Home</a></div><div class=nav-link><a href=https://jr0.org/projects/><span data-feather=code></span> Projects</a></div><div class=nav-link><a href=https://jr0.org/research/><span data-feather=book></span> Research</a></div><div class=nav-link><a href=https://jr0.org/devlogs/><span data-feather=book></span> Devlog</a></div><div class=nav-link><a href=https://github.com/jakeroggenbuck/JakeRoggenbuck.github.io><span data-feather=github></span></a></div><span class=nav-icons-divider></span><div class="nav-link dark-theme-toggle"><span id=dark-theme-toggle-screen-reader-target class=sr-only></span>
<a><span id=theme-toggle-icon data-feather=moon></span></a></div><div class=nav-link id=hamburger-menu-toggle><span id=hamburger-menu-toggle-screen-reader-target class=sr-only>menu</span>
<a><span data-feather=menu></span></a></div><ul class="nav-hamburger-list visibility-hidden"><li class=nav-item><a href=https://jr0.org/><span data-feather=home></span> Home</a></li><li class=nav-item><a href=https://jr0.org/projects/><span data-feather=code></span> Projects</a></li><li class=nav-item><a href=https://jr0.org/research/><span data-feather=book></span> Research</a></li><li class=nav-item><a href=https://jr0.org/devlogs/><span data-feather=book></span> Devlog</a></li><li class=nav-item><a href=https://github.com/jakeroggenbuck/JakeRoggenbuck.github.io><span data-feather=github></span></a></li><li class="nav-item dark-theme-toggle"><span id=dark-theme-toggle-screen-reader-target class=sr-only>theme</span>
<a><span id=theme-toggle-icon data-feather=moon></span></a></li></ul></div></nav></header><main id=content><div class="post container"><div class=post-header-section><h1>auto-clock-speed</h1></div><div class=post-content><p><p><a href=https://github.com/jakeroggenbuck/auto-clock-speed/>See on Github</a></p><p><img src=https://user-images.githubusercontent.com/35516367/169680198-99d02746-22f7-433d-a9a1-d8858edef512.png alt="Auto Clock Speed Banner Logo">
<img src="https://img.shields.io/github/workflow/status/jakeroggenbuck/auto-clock-speed/Rust?style=for-the-badge" alt=Rust>
<img src="https://img.shields.io/crates/v/autoclockspeed?style=for-the-badge" alt="Crates Version">
<img src="https://img.shields.io/crates/d/autoclockspeed?style=for-the-badge" alt=Downloads></p><h4 id=acs-upstreamhttpsgithubcomjakeroggenbuckauto-clock-speed---autoclockspeedorghttpsautoclockspeedorg---our-cratesiohttpscratesiocratesautoclockspeed---acs-github-orghttpsgithubcomautoclockspeed><a href=https://github.com/jakeroggenbuck/auto-clock-speed>ACS Upstream</a> - <a href=https://autoclockspeed.org>autoclockspeed.org</a> - <a href=https://crates.io/crates/autoclockspeed>Our crates.io</a> - <a href=https://github.com/autoclockspeed>ACS Github Org</a></h4><p>A utility to check stats about your CPU, and auto regulate clock speeds to help with either performance or battery life.
This proram is designed for Linux and Intel laptops, although it should theoretically work on AMD systems and sometimes desktops as well.
If you encounter any issues or bugs, please refer to the <a href=https://github.com/JakeRoggenbuck/auto-clock-speed/wiki>wiki</a> to see if there is a solution.</p><p><img src=https://github.com/Camerooooon/clockspeed/raw/eedaa0b2458135c8ff8e21510a37269b1052a25e/assets/screenshots/2022-06-14_06-35.png alt=image></p><h2 id=goals>Goals</h2><ul><li>First and foremost, this is a project to learn about Rust and Linux</li><li>Secondly, try to improve upon AdnanHodzic&rsquo;s already amazing <a href=https://github.com/AdnanHodzic/auto-cpufreq>auto-cpufreq</a></li><li>Add options to display raw output of governors, clockspeed, turbo, battery, etc. for use in scripts or display panels like polybar.</li></ul><h2 id=want-to-help-yay-welcome>Want to help? Yay! Welcome!</h2><ul><li>Read our <a href=CONTRIBUTING.md>CONTRIBUTING.md</a> for some helpful tips</li><li>Find an issue - <a href="https://github.com/JakeRoggenbuck/auto-clock-speed/issues?q=is%3Aissue+is%3Aopen+label%3A%22good+first+issue%22">&ldquo;good first issue&rdquo;</a> recommended</li><li>Feel free to ask questions!</li></ul><h2 id=install-latest-release>Install Latest Release</h2><p>If you have cargo on your machine, skip to step 3</p><ol><li><p>Go to <a href=https://rustup.rs/><code>rustup.rs</code></a> to install rust.</p></li><li><p>Setup rust</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>rustup override set stable
</span></span><span style=display:flex><span>rustup update stable
</span></span></code></pre></div></li><li><p>Clone the project and install</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>git clone https://github.com/JakeRoggenbuck/auto-clock-speed
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>cargo install --path auto-clock-speed
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># This is needed to have the root version of acs match the local installed version</span>
</span></span><span style=display:flex><span>sudo cp ~/.cargo/bin/acs /usr/bin/acs
</span></span></code></pre></div></li></ol><p>Note: The latest release of acs can also be installed locally with the following</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>cargo install autoclockspeed
</span></span></code></pre></div><h2 id=in-action>In Action</h2><p><a href="https://www.youtube.com/watch?v=QTnv4pommN4"><img src=https://user-images.githubusercontent.com/35516367/170888770-cf20411e-2b21-43a5-9636-bf6a6b545346.png alt=image></a></p><h2 id=new-interactive-mode>New Interactive Mode</h2><p><img src=https://user-images.githubusercontent.com/35516367/170414026-2466ee6b-fd6c-48f0-bec8-127237116baf.png alt=image></p><h2 id=systemd>Systemd</h2><p>In order to have auto-clock-speed start when you restart your computer you must follow these instructions</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#75715e># IMPORTANT: Modify the service file (acs.service) in the</span>
</span></span><span style=display:flex><span><span style=color:#75715e># project directory to include the path to the binary file </span>
</span></span><span style=display:flex><span><span style=color:#75715e># (usually /home/username/.cargo/bin/acs)</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#75715e># In the auto clock speed directory run this command to</span>
</span></span><span style=display:flex><span><span style=color:#75715e># move the service file into your systemd directory</span>
</span></span><span style=display:flex><span>sudo cp acs.service /etc/systemd/system/
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#75715e># Start and enable the service</span>
</span></span><span style=display:flex><span>sudo systemctl start acs
</span></span><span style=display:flex><span>sudo systemctl enable acs
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Check service is up and running</span>
</span></span><span style=display:flex><span>systemctl status acs
</span></span></code></pre></div><h2 id=systemctl-command>Systemctl command</h2><p>The line after <code>[Service]</code> in <code>acs.service</code> is the command that will be run. You may want to add or remove arguments, mainly <code>--quiet</code>.</p><pre tabindex=0><code>[Unit]
Description=Manages Clock Speed

[Service]
ExecStart=/home/your-user-here/.cargo/bin/acs run --no-animation --quiet

[Install]
WantedBy=multi-user.target
</code></pre><h2 id=config>Config</h2><h3 id=using-default-config>Using default config</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>WARN: Using default config. Create file <span style=color:#e6db74>&#39;/etc/acs/acs.toml&#39;</span> <span style=color:#66d9ef>for</span> custom config or run <span style=color:#e6db74>&#39;acs initconfig&#39;</span> to setup default config automatically.
</span></span></code></pre></div><p>This warning recommends creating a config file, use the initconfig command to automatically create one for you!</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>sudo acs initconfig
</span></span></code></pre></div><h3 id=this-is-an-example-config>This is an example config</h3><p>also the default settings if no config is provided</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=display:flex><span><span style=color:#75715e># acs.toml</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>powersave_under</span> = <span style=color:#ae81ff>20</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>overheat_threshold</span> = <span style=color:#ae81ff>80</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>active_rules</span> = [ <span style=color:#e6db74>&#34;battery_percent_rule&#34;</span>, <span style=color:#e6db74>&#34;lid_open_rule&#34;</span>, <span style=color:#e6db74>&#34;ac_charging_rule&#34;</span>, <span style=color:#e6db74>&#34;cpu_usage_rule&#34;</span> ]
</span></span></code></pre></div><h2 id=turn-off>Turn Off</h2><p>If you would like to turn off auto-clock-speed, here are the steps.
Note: This should be done during testing of acs run mode.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#75715e># Temporarily stop (only lasts until reboot)</span>
</span></span><span style=display:flex><span>sudo systemctl stop acs
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Permanently stop until turned on</span>
</span></span><span style=display:flex><span>sudo systemctl disable acs
</span></span></code></pre></div><h2 id=uninstall>Uninstall</h2><p>Here is how to uninstall the binary and the systemctl service.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#75715e># Remove local binary</span>
</span></span><span style=display:flex><span>cargo uninstall acs
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Remove system shared binary</span>
</span></span><span style=display:flex><span>rm /usr/bin/acs
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Remove systemctl entry</span>
</span></span><span style=display:flex><span>rm /etc/systemd/system/acs.service
</span></span></code></pre></div><h2 id=example-usage>Example Usage</h2><p>Here are some examples of how acs can be used.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#75715e># Monitor mode</span>
</span></span><span style=display:flex><span>acs monitor
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Run as root</span>
</span></span><span style=display:flex><span>sudo acs run
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Get all speeds</span>
</span></span><span style=display:flex><span>acs get speeds
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Select gov from dmenu</span>
</span></span><span style=display:flex><span>sudo acs set gov <span style=color:#66d9ef>$(</span>acs get available-govs --raw | dmenu<span style=color:#66d9ef>)</span>
</span></span></code></pre></div><h2 id=detailed-usage>Detailed usage</h2><p>Detailed usage can be found on our <a href=https://github.com/JakeRoggenbuck/auto-clock-speed/wiki/Detailed-Usage>wiki</a></p><h2 id=help>Help</h2><pre tabindex=0><code>Automatic CPU frequency scaler and power saver

USAGE:
    acs &lt;SUBCOMMAND&gt;

FLAGS:
    -h, --help       Prints help information
    -V, --version    Prints version information

SUBCOMMANDS:
    get            Get a specific value or status
    help           Prints this message or the help of the given subcommand(s)
    interactive    Interactive mode for auto clock speed commands
    monitor        Monitor each cpu, it&#39;s min, max, and current speed, along with the governor
    run            Run the daemon, this checks and edit your cpu&#39;s speed
    set            Set a specific value
    showconfig     Show the current config in use
</code></pre></p></div></div></main><footer class=footer><span>&copy; 2022 Jake Roggenbuck</span>
<span>Made with &#10084;&#65039; using <a target=_blank href=https://github.com/526avijitgupta/gokarna>Gokarna</a></span></footer></body></html>