<!doctype html><html lang=en dir=ltr class=scroll-smooth data-default-appearance=dark data-auto-appearance=true><head><meta charset=utf-8><meta http-equiv=content-language content="en"><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><title>miri &#183; Jake Roggenbuck</title><meta name=title content="miri &#183; Jake Roggenbuck"><meta name=description content="An interpreter for Rust's mid-level intermediate representation"><meta name=keywords content="Rust,"><link rel=canonical href=/projects/miri/><link type=text/css rel=stylesheet href=/css/main.bundle.min.4d4b1b35ed4fb37d198f5f4fa732e64404b535101cdef4401ac22e7c91380b82f3c8e5d51ae61f0149e6a95694c77e5a40943ca8480609a230c10f33c1fc11b4.css integrity="sha512-TUsbNe1Ps30Zj19PpzLmRAS1NRAc3vRAGsIufJE4C4LzyOXVGuYfAUnmqVaUx35aQJQ8qEgGCaIwwQ8zwfwRtA=="><script type=text/javascript src=/js/appearance.min.516a16745bea5a9bd011138d254cc0fd3973cd55ce6e15f3dec763e7c7c2c7448f8fe7b54cca811cb821b0c7e12cd161caace1dd794ac3d34d40937cbcc9ee12.js integrity="sha512-UWoWdFvqWpvQERONJUzA/TlzzVXObhXz3sdj58fCx0SPj+e1TMqBHLghsMfhLNFhyqzh3XlKw9NNQJN8vMnuEg=="></script>
<script defer type=text/javascript id=script-bundle src=/js/main.bundle.min.006a5ac4ddc20468d3cbac5f715178db0c4e87ec9673e6f6bc123ea9d5b9368c9c5323358b3f6eb419028d87c3c45a8d704eedbee9458cc2d0596554a058d611.js integrity="sha512-AGpaxN3CBGjTy6xfcVF42wxOh+yWc+b2vBI+qdW5NoycUyM1iz9utBkCjYfDxFqNcE7tvulFjMLQWWVUoFjWEQ==" data-copy data-copied></script>
<script src=/js/zoom.min.js></script>
<link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><meta property="og:title" content="miri"><meta property="og:description" content="An interpreter for Rust's mid-level intermediate representation"><meta property="og:type" content="article"><meta property="og:url" content="/projects/miri/"><meta property="article:section" content="projects"><meta property="article:published_time" content="2024-10-07T00:00:00+00:00"><meta property="article:modified_time" content="2024-10-07T00:00:00+00:00"><meta property="og:site_name" content="Jake Roggenbuck"><meta name=twitter:card content="summary"><meta name=twitter:title content="miri"><meta name=twitter:description content="An interpreter for Rust's mid-level intermediate representation"><script type=application/ld+json>[{"@context":"https://schema.org","@type":"Article","articleSection":"Projects","name":"miri","headline":"miri","description":"An interpreter for Rust\u0027s mid-level intermediate representation","abstract":"Miri # Miri is an Undefined Behavior detection tool for Rust.","inLanguage":"en","url":"\/projects\/miri\/","author":{"@type":"Person","name":"Jake Roggenbuck"},"copyrightYear":"2024","dateCreated":"2024-10-07T00:00:00\u002b00:00","datePublished":"2024-10-07T00:00:00\u002b00:00","dateModified":"2024-10-07T00:00:00\u002b00:00","keywords":["Rust"],"mainEntityOfPage":"true","wordCount":"4864"}]</script><meta name=author content="Jake Roggenbuck"><link href=mailto:me@jr0.org rel=me><link href=https://github.com/jakeroggenbuck rel=me><link href=https://linkedin.com/in/jakeroggenbuck rel=me><script src=/lib/jquery/jquery.slim.min.js integrity></script><meta name=theme-color><script>!function(e,t){var n,s,o,i;t.__SV||(window.posthog=t,t._i=[],t.init=function(a,r,c){function d(e,t){var n=t.split(".");2==n.length&&(e=e[n[0]],t=n[1]),e[t]=function(){e.push([t].concat(Array.prototype.slice.call(arguments,0)))}}(s=e.createElement("script")).type="text/javascript",s.async=!0,s.src=r.api_host+"/static/array.js",(i=e.getElementsByTagName("script")[0]).parentNode.insertBefore(s,i);var l=t;for(void 0!==c?l=t[c]=[]:c="posthog",l.people=l.people||[],l.toString=function(e){var t="posthog";return"posthog"!==c&&(t+="."+c),e||(t+=" (stub)"),t},l.people.toString=function(){return l.toString(1)+".people (stub)"},o="capture identify alias people.set people.set_once set_config register register_once unregister opt_out_capturing has_opted_out_capturing opt_in_capturing reset isFeatureEnabled onFeatureFlags".split(" "),n=0;n<o.length;n++)d(l,o[n]);t._i.push([a,r,c])},t.__SV=1)}(document,window.posthog||[]),posthog.init("phc_ML7OV6jGM1EXu0tXlV5CUqJgBSduSsgx8U2HaLEiIX",{api_host:"https://app.posthog.com"})</script></head><body class="flex flex-col h-screen px-6 m-auto text-lg leading-7 max-w-7xl bg-neutral text-neutral-900 dark:bg-neutral-800 dark:text-neutral sm:px-14 md:px-24 lg:px-32"><div id=the-top class="absolute flex self-center"><a class="px-3 py-1 text-sm -translate-y-8 rounded-b-lg bg-primary-200 focus:translate-y-0 dark:bg-neutral-600" href=#main-content><span class="font-bold text-primary-600 ltr:pr-2 rtl:pl-2 dark:text-primary-400">&darr;</span>Skip to main content</a></div><div style=padding-left:0;padding-right:0;padding-top:2px;padding-bottom:3px class="main-menu flex items-center justify-between px-4 py-6 sm:px-6 md:justify-start space-x-3"><div class="flex flex-1 items-center justify-between"><nav class="flex space-x-3"><a href=/ class="text-base font-medium text-gray-500 hover:text-gray-900">Jake Roggenbuck</a></nav><nav class="hidden md:flex items-center space-x-5 md:ml-12 h-12"><a href=/projects/ class="flex items-center"><p class="text-base font-medium text-gray-500 hover:text-gray-900" title=Projects>Projects</p></a><a href=/posts/ class="flex items-center"><p class="text-base font-medium text-gray-500 hover:text-gray-900" title=Posts>Blog</p></a><a href=/archive/ class="flex items-center"><p class="text-base font-medium text-gray-500 hover:text-gray-900" title=Archive>Archive</p></a><button id=search-button aria-label=Search class="text-base hover:text-primary-600 dark:hover:text-primary-400 h-12" title>
<span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg></span></button><div class="ltr:mr-14 rtl:ml-14 cursor-pointer text-sm text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400"><button id=appearance-switcher aria-label="Dark mode switcher" type=button><div class="flex items-center justify-center h-12 dark:hidden"><span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M32 256C32 132.2 132.3 32 255.8 32c11.36.0 29.7 1.668 40.9 3.746 9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3 9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480 132.1 480 32 379.6 32 256z"/></svg></span></div><div class="items-center justify-center hidden h-12 dark:flex"><span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M256 159.1c-53.02.0-95.1 42.98-95.1 95.1s41.2 96.9 95.1 96.9 95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347l-63.2-91.9 63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89 164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6 12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256 2.74 347.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7 19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109 109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69.0-127.1-57.31-127.1-127.1.0-70.69 57.31-127.1 127.1-127.1S383.1 186.2 383.1 256c0 70.7-56.4 127.1-127.1 127.1z"/></svg></span></div></button></div></nav><div class="flex md:hidden items-center space-x-5 md:ml-12"><span></span>
<button id=search-button-mobile aria-label=Search class="text-base hover:text-primary-600 dark:hover:text-primary-400" title>
<span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg></span></button>
<button id=appearance-switcher-mobile aria-label="Dark mode switcher" type=button style=margin-right:5px><div class="flex items-center justify-center h-12 dark:hidden"><span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M32 256C32 132.2 132.3 32 255.8 32c11.36.0 29.7 1.668 40.9 3.746 9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3 9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480 132.1 480 32 379.6 32 256z"/></svg></span></div><div class="items-center justify-center hidden h-12 dark:flex"><span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M256 159.1c-53.02.0-95.1 42.98-95.1 95.1s41.2 96.9 95.1 96.9 95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347l-63.2-91.9 63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89 164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6 12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256 2.74 347.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7 19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109 109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69.0-127.1-57.31-127.1-127.1.0-70.69 57.31-127.1 127.1-127.1S383.1 186.2 383.1 256c0 70.7-56.4 127.1-127.1 127.1z"/></svg></span></div></button></div></div><div class="-my-2 -mr-2 md:hidden"><label id=menu-button for=menu-controller class=block><input type=checkbox id=menu-controller class=hidden><div class="cursor-pointer hover:text-primary-600 dark:hover:text-primary-400"><span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentcolor" d="M0 96C0 78.33 14.33 64 32 64H416c17.7.0 32 14.33 32 32 0 17.7-14.3 32-32 32H32C14.33 128 0 113.7.0 96zM0 256c0-17.7 14.33-32 32-32H416c17.7.0 32 14.3 32 32s-14.3 32-32 32H32c-17.67.0-32-14.3-32-32zM416 448H32c-17.67.0-32-14.3-32-32s14.33-32 32-32H416c17.7.0 32 14.3 32 32s-14.3 32-32 32z"/></svg></span></div><div id=menu-wrapper style=padding-top:5px class="fixed inset-0 z-30 invisible w-screen h-screen m-0 overflow-auto transition-opacity opacity-0 cursor-default bg-neutral-100/50 backdrop-blur-sm dark:bg-neutral-900/50"><ul class="flex space-y-2 mt-3 flex-col items-end w-full px-6 py-6 mx-auto overflow-visible list-none ltr:text-right rtl:text-left max-w-7xl"><li><span class="cursor-pointer inline-block align-text-bottom hover:text-primary-600 dark:hover:text-primary-400"><span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentcolor" d="M310.6 361.4c12.5 12.5 12.5 32.75.0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3 54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75.0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75.0-45.25s32.75-12.5 45.25.0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25.0s12.5 32.75.0 45.25l-105.4 105.4L310.6 361.4z"/></svg></span></span></li><li class=mt-1><a href=/projects/ class="flex items-center"><p class="text-bg font-bg text-gray-500 hover:text-gray-900" title=Projects>Projects</p></a></li><li class=mt-1><a href=/posts/ class="flex items-center"><p class="text-bg font-bg text-gray-500 hover:text-gray-900" title=Posts>Blog</p></a></li><li class=mt-1><a href=/archive/ class="flex items-center"><p class="text-bg font-bg text-gray-500 hover:text-gray-900" title=Archive>Archive</p></a></li></ul></div></label></div></div><div class="relative flex flex-col grow"><main id=main-content class=grow><article><header id=single_header class="mt-5 max-w-prose"><ol class="text-sm text-neutral-500 dark:text-neutral-400 print:hidden"><li class="inline hidden"><a class="hover:underline decoration-neutral-300 dark:underline-neutral-600" href=/></a><span class="px-1 text-primary-500">/</span></li><li class=inline><a class="hover:underline decoration-neutral-300 dark:underline-neutral-600" href=/projects/>Projects</a><span class="px-1 text-primary-500">/</span></li><li class="inline hidden"><a class="hover:underline decoration-neutral-300 dark:underline-neutral-600" href=/projects/miri/>miri</a><span class="px-1 text-primary-500">/</span></li></ol><h1 class="mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">miri</h1><div class="mt-1 mb-6 text-base text-neutral-500 dark:text-neutral-400 print:hidden"><div class="flex flex-row flex-wrap items-center"><time datetime="2024-10-07 00:00:00 +0000 UTC">7 October 2024</time><span class="px-2 text-primary-500">&#183;</span><span>4864 words</span><span class="px-2 text-primary-500">&#183;</span><span title="Reading time">23 mins</span></div></div><div class=flex><img class="!mt-0 !mb-0 h-24 w-24 rounded-full ltr:mr-4 rtl:ml-4" width=96 height=96 alt="Jake Roggenbuck" src=/jake-profile-2_hu5c441416fff170c71d20e1ff858469cd_88398_192x192_fill_q75_box_center.jpg><div class=place-self-center><div class="text-[0.6rem] uppercase leading-3 text-neutral-500 dark:text-neutral-400">Author</div><div class="font-semibold leading-6 text-neutral-800 dark:text-neutral-300">Jake Roggenbuck</div><div class="text-sm text-neutral-700 dark:text-neutral-400">Working at Capital One as a SWE Intern and Conducting Programming Language Research</div><div class="text-2xl sm:text-lg"><div class="flex flex-wrap text-neutral-400 dark:text-neutral-500"><a class="px-1 hover:text-primary-700 dark:hover:text-primary-400" href=mailto:me@jr0.org target=_blank aria-label=Email rel="me noopener noreferrer"><span class="inline-block align-text-bottom"><span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M207.8 20.73c-93.45 18.32-168.7 93.66-187 187.1-27.64 140.9 68.65 266.2 199.1 285.1 19.01 2.888 36.17-12.26 36.17-31.49l1e-4-.6631c0-15.74-11.44-28.88-26.84-31.24-84.35-12.98-149.2-86.13-149.2-174.2.0-102.9 88.61-185.5 193.4-175.4 91.54 8.869 158.6 91.25 158.6 183.2v16.16c0 22.09-17.94 40.05-40 40.05s-40.01-17.96-40.01-40.05v-120.1c0-8.847-7.161-16.02-16.01-16.02l-31.98.0036c-7.299.0-13.2 4.992-15.12 11.68-24.85-12.15-54.24-16.38-86.06-5.106-38.75 13.73-68.12 48.91-73.72 89.64-9.483 69.01 43.81 128 110.9 128 26.44.0 50.43-9.544 69.59-24.88 24 31.3 65.23 48.69 109.4 37.49C465.2 369.3 496 324.1 495.1 277.2V256.3c0-149.2-133.9-265.632-287.3-235.57zM239.1 304.3c-26.47.0-48-21.56-48-48.05s21.53-48.05 48-48.05 48 21.56 48 48.05-20.6 48.05-48 48.05z"/></svg></span></span></a><a class="px-1 hover:text-primary-700 dark:hover:text-primary-400" href=https://github.com/jakeroggenbuck target=_blank aria-label=Github rel="me noopener noreferrer"><span class="inline-block align-text-bottom"><span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentcolor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6.0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6.0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3.0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1.0-6.2-.3-40.4-.3-61.4.0.0-70 15-84.7-29.8.0.0-11.4-29.1-27.8-36.6.0.0-22.9-15.7 1.6-15.4.0.0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5.0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9.0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4.0 33.7-.3 75.4-.3 83.6.0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6.0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9.0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg></span></span></a><a class="px-1 hover:text-primary-700 dark:hover:text-primary-400" href=https://linkedin.com/in/jakeroggenbuck target=_blank aria-label=Linkedin rel="me noopener noreferrer"><span class="inline-block align-text-bottom"><span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentcolor" d="M416 32H31.9C14.3 32 0 46.5.0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6.0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3.0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2.0 38.5 17.3 38.5 38.5.0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6.0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2.0 79.7 44.3 79.7 101.9V416z"/></svg></span></span></a></div></div></div></div><div class=mb-5></div></header><section class="flex flex-col max-w-full mt-0 prose dark:prose-invert lg:flex-row"><div class="min-w-0 min-h-0 max-w-fit"><div class="max-w-prose mb-20"><div id=miri class=anchor></div><h1 class="relative group">Miri
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#miri aria-label=Anchor>#</a></span></h1><p>Miri is an <a href=https://doc.rust-lang.org/reference/behavior-considered-undefined.html target=_blank>Undefined Behavior</a> detection tool for Rust. It can run binaries and test
suites of cargo projects and detect unsafe code that fails to uphold its safety requirements. For
instance:</p><ul><li>Out-of-bounds memory accesses and use-after-free</li><li>Invalid use of uninitialized data</li><li>Violation of intrinsic preconditions (an <a href=https://doc.rust-lang.org/stable/std/hint/fn.unreachable_unchecked.html target=_blank><code>unreachable_unchecked</code></a> being
reached, calling <a href=https://doc.rust-lang.org/stable/std/ptr/fn.copy_nonoverlapping.html target=_blank><code>copy_nonoverlapping</code></a> with overlapping ranges, &mldr;)</li><li>Not sufficiently aligned memory accesses and references</li><li>Violation of basic type invariants (a <code>bool</code> that is not 0 or 1, for example,
or an invalid enum discriminant)</li><li><strong>Experimental</strong>: Violations of the <a href=https://github.com/rust-lang/unsafe-code-guidelines/blob/master/wip/stacked-borrows.md target=_blank>Stacked Borrows</a> rules governing aliasing
for reference types</li><li><strong>Experimental</strong>: Violations of the <a href=https://perso.crans.org/vanille/treebor/ target=_blank>Tree Borrows</a> aliasing rules, as an optional
alternative to <a href=https://github.com/rust-lang/unsafe-code-guidelines/blob/master/wip/stacked-borrows.md target=_blank>Stacked Borrows</a></li><li><strong>Experimental</strong>: Data races and emulation of weak memory effects, i.e.,
atomic reads can return outdated values.</li></ul><p>On top of that, Miri will also tell you about memory leaks: when there is memory
still allocated at the end of the execution, and that memory is not reachable
from a global <code>static</code>, Miri will raise an error.</p><p>You can use Miri to emulate programs on other targets, e.g. to ensure that
byte-level data manipulation works correctly both on little-endian and
big-endian systems. See
<a href=#cross-interpretation-running-for-different-targets>cross-interpretation</a>
below.</p><p>Miri has already discovered many <a href=#bugs-found-by-miri>real-world bugs</a>. If you
found a bug with Miri, we&rsquo;d appreciate if you tell us and we&rsquo;ll add it to the
list!</p><p>By default, Miri ensures a fully deterministic execution and isolates the
program from the host system. Some APIs that would usually access the host, such
as gathering entropy for random number generators, environment variables, and
clocks, are replaced by deterministic &ldquo;fake&rdquo; implementations. Set
<code>MIRIFLAGS="-Zmiri-disable-isolation"</code> to access the real system APIs instead.
(In particular, the &ldquo;fake&rdquo; system RNG APIs make Miri <strong>not suited for
cryptographic use</strong>! Do not generate keys using Miri.)</p><p>All that said, be aware that Miri does <strong>not catch every violation of the Rust specification</strong> in
your program, not least because there is no such specification. Miri uses its own approximation of
what is and is not Undefined Behavior in Rust. To the best of our knowledge, all Undefined Behavior
that has the potential to affect a program&rsquo;s correctness <em>is</em> being detected by Miri (modulo
<a href=https://github.com/rust-lang/miri/labels/I-misses-UB target=_blank>bugs</a>), but you should consult <a href=https://doc.rust-lang.org/reference/behavior-considered-undefined.html target=_blank>the Reference</a> for the official
definition of Undefined Behavior. Miri will be updated with the Rust compiler to protect against UB
as it is understood by the current compiler, but it makes no promises about future versions of
rustc.</p><p>Further caveats that Miri users should be aware of:</p><ul><li>If the program relies on unspecified details of how data is laid out, it will
still run fine in Miri &ndash; but might break (including causing UB) on different
compiler versions or different platforms. (You can use <code>-Zrandomize-layout</code>
to detect some of these cases.)</li><li>Program execution is non-deterministic when it depends, for example, on where
exactly in memory allocations end up, or on the exact interleaving of
concurrent threads. Miri tests one of many possible executions of your
program, but it will miss bugs that only occur in a different possible execution.
You can alleviate this to some extent by running Miri with different
values for <code>-Zmiri-seed</code>, but that will still by far not explore all possible executions.</li><li>Miri runs the program as a platform-independent interpreter, so the program
has no access to most platform-specific APIs or FFI. A few APIs have been
implemented (such as printing to stdout, accessing environment variables, and
basic file system access) but most have not: for example, Miri currently does
not support networking. System API support varies between targets; if you run
on Windows it is a good idea to use <code>--target x86_64-unknown-linux-gnu</code> to get
better support.</li><li>Weak memory emulation is not complete: there are legal behaviors that Miri will never produce.
However, Miri produces many behaviors that are hard to observe on real hardware, so it can help
quite a bit in finding weak memory concurrency bugs. To be really sure about complicated atomic
code, use specialized tools such as <a href=https://github.com/tokio-rs/loom target=_blank>loom</a>.</li></ul><p>Moreover, Miri fundamentally cannot ensure that your code is <em>sound</em>. <a href=https://rust-lang.github.io/unsafe-code-guidelines/glossary.html#soundness-of-code--of-a-library target=_blank>Soundness</a> is the property of
never causing undefined behavior when invoked from arbitrary safe code, even in combination with
other sound code. In contrast, Miri can just tell you if <em>a particular way of interacting with your
code</em> (e.g., a test suite) causes any undefined behavior <em>in a particular execution</em> (of which there
may be many, e.g. when concurrency or other forms of non-determinism are involved). When Miri finds
UB, your code is definitely unsound, but when Miri does not find UB, then you may just have to test
more inputs or more possible non-deterministic choices.</p><div id=using-miri class=anchor></div><h2 class="relative group">Using Miri
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#using-miri aria-label=Anchor>#</a></span></h2><p>Install Miri on Rust nightly via <code>rustup</code>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>rustup +nightly component add miri
</span></span></code></pre></div><p>All the following commands assume the nightly toolchain is pinned via <code>rustup override set nightly</code>.
Alternatively, use <code>cargo +nightly</code> for each of the following commands.</p><p>Now you can run your project in Miri:</p><ul><li>To run all tests in your project through Miri, use <code>cargo miri test</code>.</li><li>If you have a binary project, you can run it through Miri using <code>cargo miri run</code>.</li></ul><p>The first time you run Miri, it will perform some extra setup and install some
dependencies. It will ask you for confirmation before installing anything.</p><p><code>cargo miri run/test</code> supports the exact same flags as <code>cargo run/test</code>. For
example, <code>cargo miri test filter</code> only runs the tests containing <code>filter</code> in
their name.</p><p>You can pass <a href=#miri--z-flags-and-environment-variables>flags</a> to Miri via <code>MIRIFLAGS</code>. For example,
<code>MIRIFLAGS="-Zmiri-disable-stacked-borrows" cargo miri run</code> runs the program
without checking the aliasing of references.</p><p>When compiling code via <code>cargo miri</code>, the <code>cfg(miri)</code> config flag is set for code
that will be interpreted under Miri. You can use this to ignore test cases that fail
under Miri because they do things Miri does not support:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=line><span class=cl><span class=cp>#[test]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=cp>#[cfg_attr(miri, ignore)]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>fn</span> <span class=nf>does_not_work_on_miri</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>tokio</span>::<span class=n>run</span><span class=p>(</span><span class=n>futures</span>::<span class=n>future</span>::<span class=n>ok</span>::<span class=o>&lt;</span><span class=n>_</span><span class=p>,</span><span class=w> </span><span class=p>()</span><span class=o>&gt;</span><span class=p>(()));</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><p>There is no way to list all the infinite things Miri cannot do, but the
interpreter will explicitly tell you when it finds something unsupported:</p><pre tabindex=0><code>error: unsupported operation: can&#39;t call foreign function: bind
    ...
    = help: this is likely not a bug in the program; it indicates that the program \
            performed an operation that Miri does not support
</code></pre><div id=cross-interpretation-running-for-different-targets class=anchor></div><h3 class="relative group">Cross-interpretation: running for different targets
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#cross-interpretation-running-for-different-targets aria-label=Anchor>#</a></span></h3><p>Miri can not only run a binary or test suite for your host target, it can also
perform cross-interpretation for arbitrary foreign targets: <code>cargo miri run --target x86_64-unknown-linux-gnu</code> will run your program as if it was a Linux
program, no matter your host OS. This is particularly useful if you are using
Windows, as the Linux target is much better supported than Windows targets.</p><p>You can also use this to test platforms with different properties than your host
platform. For example <code>cargo miri test --target s390x-unknown-linux-gnu</code>
will run your test suite on a big-endian target, which is useful for testing
endian-sensitive code.</p><div id=testing-multiple-different-executions class=anchor></div><h3 class="relative group">Testing multiple different executions
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#testing-multiple-different-executions aria-label=Anchor>#</a></span></h3><p>Certain parts of the execution are picked randomly by Miri, such as the exact base address
allocations are stored at and the interleaving of concurrently executing threads. Sometimes, it can
be useful to explore multiple different execution, e.g. to make sure that your code does not depend
on incidental &ldquo;super-alignment&rdquo; of new allocations and to test different thread interleavings.
This can be done with the <code>-Zmiri-many-seeds</code> flag:</p><pre tabindex=0><code>MIRIFLAGS=&#34;-Zmiri-many-seeds&#34; cargo miri test # tries the seeds in 0..64
MIRIFLAGS=&#34;-Zmiri-many-seeds=0..16&#34; cargo miri test
</code></pre><p>The default of 64 different seeds can be quite slow, so you often want to specify a smaller range.</p><div id=running-miri-on-ci class=anchor></div><h3 class="relative group">Running Miri on CI
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#running-miri-on-ci aria-label=Anchor>#</a></span></h3><p>When running Miri on CI, use the following snippet to install a nightly toolchain with the Miri
component:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>rustup toolchain install nightly --component miri
</span></span><span class=line><span class=cl>rustup override <span class=nb>set</span> nightly
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>cargo miri <span class=nb>test</span>
</span></span></code></pre></div><p>Here is an example job for GitHub Actions:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>miri</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;Miri&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/checkout@v4</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Install Miri</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>        rustup toolchain install nightly --component miri
</span></span></span><span class=line><span class=cl><span class=sd>        rustup override set nightly
</span></span></span><span class=line><span class=cl><span class=sd>        cargo miri setup</span><span class=w>        
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Test with Miri</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>cargo miri test</span><span class=w>
</span></span></span></code></pre></div><p>The explicit <code>cargo miri setup</code> helps to keep the output of the actual test step
clean.</p><div id=supported-targets class=anchor></div><h3 class="relative group">Supported targets
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#supported-targets aria-label=Anchor>#</a></span></h3><p>Miri does not support all targets supported by Rust. The good news, however, is
that no matter your host OS/platform, it is easy to run code for <em>any</em> target
using <code>--target</code>!</p><p>The following targets are tested on CI and thus should always work (to the
degree documented below):</p><ul><li>All Rust <a href=https://doc.rust-lang.org/rustc/platform-support.html target=_blank>Tier 1 targets</a> are supported by
Miri. They are all checked on Miri&rsquo;s CI, and some (at least one per OS) are even checked on every
Rust PR, so the shipped Miri should always work on these targets.</li><li><code>s390x-unknown-linux-gnu</code> is supported as our &ldquo;big-endian target of choice&rdquo;.</li><li>For every other target with OS <code>linux</code>, <code>macos</code>, or <code>windows</code>, Miri should generally work, but we
make no promises and we don&rsquo;t run tests for such targets.</li><li>We have unofficial support (not maintained by the Miri team itself) for some further operating systems.<ul><li><code>solaris</code> / <code>illumos</code>: maintained by @devnexen. Supports the entire test suite.</li><li><code>freebsd</code>: maintained by @YohDeadfall. Supports <code>std::env</code> and parts of <code>std::{thread, fs}</code>, but not <code>std::sync</code>.</li><li><code>android</code>: <strong>maintainer wanted</strong>. Support very incomplete, but a basic &ldquo;hello world&rdquo; works.</li><li><code>wasi</code>: <strong>maintainer wanted</strong>. Support very incomplete, not even standard output works, but an empty <code>main</code> function works.</li></ul></li><li>For targets on other operating systems, Miri might fail before even reaching the <code>main</code> function.</li></ul><p>However, even for targets that we do support, the degree of support for accessing platform APIs
(such as the file system) differs between targets: generally, Linux targets have the best support,
and macOS targets are usually on par. Windows is supported less well.</p><div id=running-tests-in-parallel class=anchor></div><h3 class="relative group">Running tests in parallel
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#running-tests-in-parallel aria-label=Anchor>#</a></span></h3><p>Though it implements Rust threading, Miri itself is a single-threaded interpreter.
This means that when running <code>cargo miri test</code>, you will probably see a dramatic
increase in the amount of time it takes to run your whole test suite due to the
inherent interpreter slowdown and a loss of parallelism.</p><p>You can get your test suite&rsquo;s parallelism back by running <code>cargo miri nextest run -jN</code>
(note that you will need <a href=https://nexte.st target=_blank><code>cargo-nextest</code></a> installed).
This works because <code>cargo-nextest</code> collects a list of all tests then launches a
separate <code>cargo miri run</code> for each test. You will need to specify a <code>-j</code> or <code>--test-threads</code>;
by default <code>cargo miri nextest run</code> runs one test at a time. For more details, see the
<a href=https://nexte.st/book/miri.html target=_blank><code>cargo-nextest</code> Miri documentation</a>.</p><p>Note: This one-test-per-process model means that <code>cargo miri test</code> is able to detect data
races where two tests race on a shared resource, but <code>cargo miri nextest run</code> will not detect
such races.</p><p>Note: <code>cargo-nextest</code> does not support doctests, see <a href=https://github.com/nextest-rs/nextest/issues/16 target=_blank>https://github.com/nextest-rs/nextest/issues/16</a></p><div id=common-problems class=anchor></div><h3 class="relative group">Common Problems
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#common-problems aria-label=Anchor>#</a></span></h3><p>When using the above instructions, you may encounter a number of confusing compiler
errors.</p><div id=note-run-with-rust_backtrace1-environment-variable-to-display-a-backtrace class=anchor></div><h4 class="relative group">&ldquo;note: run with <code>RUST_BACKTRACE=1</code> environment variable to display a backtrace&rdquo;
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#note-run-with-rust_backtrace1-environment-variable-to-display-a-backtrace aria-label=Anchor>#</a></span></h4><p>You may see this when trying to get Miri to display a backtrace. By default, Miri
doesn&rsquo;t expose any environment to the program, so running
<code>RUST_BACKTRACE=1 cargo miri test</code> will not do what you expect.</p><p>To get a backtrace, you need to disable isolation
<a href=#miri--z-flags-and-environment-variables>using <code>-Zmiri-disable-isolation</code></a>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=nv>RUST_BACKTRACE</span><span class=o>=</span><span class=m>1</span> <span class=nv>MIRIFLAGS</span><span class=o>=</span><span class=s2>&#34;-Zmiri-disable-isolation&#34;</span> cargo miri <span class=nb>test</span>
</span></span></code></pre></div><div id=found-crate-std-compiled-by-an-incompatible-version-of-rustc class=anchor></div><h4 class="relative group">&ldquo;found crate <code>std</code> compiled by an incompatible version of rustc&rdquo;
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#found-crate-std-compiled-by-an-incompatible-version-of-rustc aria-label=Anchor>#</a></span></h4><p>You may be running <code>cargo miri</code> with a different compiler version than the one
used to build the custom libstd that Miri uses, and Miri failed to detect that.
Try running <code>cargo miri clean</code>.</p><div id=miri--z-flags-and-environment-variables class=anchor></div><h2 class="relative group">Miri <code>-Z</code> flags and environment variables
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#miri--z-flags-and-environment-variables aria-label=Anchor>#</a></span></h2><p>Miri adds its own set of <code>-Z</code> flags, which are usually set via the <code>MIRIFLAGS</code>
environment variable. We first document the most relevant and most commonly used flags:</p><ul><li><code>-Zmiri-address-reuse-rate=&lt;rate></code> changes the probability that a freed <em>non-stack</em> allocation
will be added to the pool for address reuse, and the probability that a new <em>non-stack</em> allocation
will be taken from the pool. Stack allocations never get added to or taken from the pool. The
default is <code>0.5</code>.</li><li><code>-Zmiri-address-reuse-cross-thread-rate=&lt;rate></code> changes the probability that an allocation which
attempts to reuse a previously freed block of memory will also consider blocks freed by <em>other
threads</em>. The default is <code>0.1</code>, which means by default, in 90% of the cases where an address reuse
attempt is made, only addresses from the same thread will be considered. Reusing an address from
another thread induces synchronization between those threads, which can mask data races and weak
memory bugs.</li><li><code>-Zmiri-compare-exchange-weak-failure-rate=&lt;rate></code> changes the failure rate of
<code>compare_exchange_weak</code> operations. The default is <code>0.8</code> (so 4 out of 5 weak ops will fail).
You can change it to any value between <code>0.0</code> and <code>1.0</code>, where <code>1.0</code> means it
will always fail and <code>0.0</code> means it will never fail. Note that setting it to
<code>1.0</code> will likely cause hangs, since it means programs using
<code>compare_exchange_weak</code> cannot make progress.</li><li><code>-Zmiri-disable-isolation</code> disables host isolation. As a consequence,
the program has access to host resources such as environment variables, file
systems, and randomness.
This overwrites a previous <code>-Zmiri-isolation-error</code>.</li><li><code>-Zmiri-disable-leak-backtraces</code> disables backtraces reports for memory leaks. By default, a
backtrace is captured for every allocation when it is created, just in case it leaks. This incurs
some memory overhead to store data that is almost never used. This flag is implied by
<code>-Zmiri-ignore-leaks</code>.</li><li><code>-Zmiri-env-forward=&lt;var></code> forwards the <code>var</code> environment variable to the interpreted program. Can
be used multiple times to forward several variables. Execution will still be deterministic if the
value of forwarded variables stays the same. Has no effect if <code>-Zmiri-disable-isolation</code> is set.</li><li><code>-Zmiri-env-set=&lt;var>=&lt;value></code> sets the <code>var</code> environment variable to <code>value</code> in the interpreted program.
It can be used to pass environment variables without needing to alter the host environment. It can
be used multiple times to set several variables. If <code>-Zmiri-disable-isolation</code> or <code>-Zmiri-env-forward</code>
is set, values set with this option will have priority over values from the host environment.</li><li><code>-Zmiri-ignore-leaks</code> disables the memory leak checker, and also allows some
remaining threads to exist when the main thread exits.</li><li><code>-Zmiri-isolation-error=&lt;action></code> configures Miri&rsquo;s response to operations
requiring host access while isolation is enabled. <code>abort</code>, <code>hide</code>, <code>warn</code>,
and <code>warn-nobacktrace</code> are the supported actions. The default is to <code>abort</code>,
which halts the machine. Some (but not all) operations also support continuing
execution with a &ldquo;permission denied&rdquo; error being returned to the program.
<code>warn</code> prints a full backtrace each time that happens; <code>warn-nobacktrace</code> is less
verbose and shown at most once per operation. <code>hide</code> hides the warning entirely.
This overwrites a previous <code>-Zmiri-disable-isolation</code>.</li><li><code>-Zmiri-many-seeds=[&lt;from>]..&lt;to></code> runs the program multiple times with different seeds for Miri&rsquo;s
RNG. With different seeds, Miri will make different choices to resolve non-determinism such as the
order in which concurrent threads are scheduled, or the exact addresses assigned to allocations.
This is useful to find bugs that only occur under particular interleavings of concurrent threads,
or that otherwise depend on non-determinism. If the <code>&lt;from></code> part is skipped, it defaults to <code>0</code>.
Can be used without a value; in that case the range defaults to <code>0..64</code>.</li><li><code>-Zmiri-many-seeds-keep-going</code> tells Miri to really try all the seeds in the given range, even if
a failing seed has already been found. This is useful to determine which fraction of seeds fails.</li><li><code>-Zmiri-num-cpus</code> states the number of available CPUs to be reported by miri. By default, the
number of available CPUs is <code>1</code>. Note that this flag does not affect how miri handles threads in
any way.</li><li><code>-Zmiri-permissive-provenance</code> disables the warning for integer-to-pointer casts and
<a href=https://doc.rust-lang.org/nightly/std/ptr/fn.with_exposed_provenance.html target=_blank><code>ptr::with_exposed_provenance</code></a>.
This will necessarily miss some bugs as those operations are not efficiently and accurately
implementable in a sanitizer, but it will only miss bugs that concern memory/pointers which is
subject to these operations.</li><li><code>-Zmiri-preemption-rate</code> configures the probability that at the end of a basic block, the active
thread will be preempted. The default is <code>0.01</code> (i.e., 1%). Setting this to <code>0</code> disables
preemption.</li><li><code>-Zmiri-report-progress</code> makes Miri print the current stacktrace every now and then, so you can
tell what it is doing when a program just keeps running. You can customize how frequently the
report is printed via <code>-Zmiri-report-progress=&lt;blocks></code>, which prints the report every N basic
blocks.</li><li><code>-Zmiri-seed=&lt;num></code> configures the seed of the RNG that Miri uses to resolve non-determinism. This
RNG is used to pick base addresses for allocations, to determine preemption and failure of
<code>compare_exchange_weak</code>, and to control store buffering for weak memory emulation. When isolation
is enabled (the default), this is also used to emulate system entropy. The default seed is 0. You
can increase test coverage by running Miri multiple times with different seeds.</li><li><code>-Zmiri-strict-provenance</code> enables <a href=https://github.com/rust-lang/rust/issues/95228 target=_blank>strict
provenance</a> checking in Miri. This means that
casting an integer to a pointer will stop execution because the provenance of the pointer
cannot be determined.</li><li><code>-Zmiri-symbolic-alignment-check</code> makes the alignment check more strict. By default, alignment is
checked by casting the pointer to an integer, and making sure that is a multiple of the alignment.
This can lead to cases where a program passes the alignment check by pure chance, because things
&ldquo;happened to be&rdquo; sufficiently aligned &ndash; there is no UB in this execution but there would be UB in
others. To avoid such cases, the symbolic alignment check only takes into account the requested
alignment of the relevant allocation, and the offset into that allocation. This avoids missing
such bugs, but it also incurs some false positives when the code does manual integer arithmetic to
ensure alignment. (The standard library <code>align_to</code> method works fine in both modes; under
symbolic alignment it only fills the middle slice when the allocation guarantees sufficient
alignment.)</li></ul><p>The remaining flags are for advanced use only, and more likely to change or be removed.
Some of these are <strong>unsound</strong>, which means they can lead
to Miri failing to detect cases of undefined behavior in a program.</p><ul><li><code>-Zmiri-disable-alignment-check</code> disables checking pointer alignment, so you
can focus on other failures, but it means Miri can miss bugs in your program.
Using this flag is <strong>unsound</strong>.</li><li><code>-Zmiri-disable-data-race-detector</code> disables checking for data races. Using
this flag is <strong>unsound</strong>. This implies <code>-Zmiri-disable-weak-memory-emulation</code>.</li><li><code>-Zmiri-disable-stacked-borrows</code> disables checking the experimental
aliasing rules to track borrows (<a href=https://github.com/rust-lang/unsafe-code-guidelines/blob/master/wip/stacked-borrows.md target=_blank>
Stacked Borrows</a> and <a href=https://perso.crans.org/vanille/treebor/ target=_blank>Tree Borrows</a>).
This can make Miri run faster, but it also means no aliasing violations will
be detected. Using this flag is <strong>unsound</strong> (but the affected soundness rules
are experimental). Later flags take precedence: borrow tracking can be reactivated
by <code>-Zmiri-tree-borrows</code>.</li><li><code>-Zmiri-disable-validation</code> disables enforcing validity invariants, which are
enforced by default. This is mostly useful to focus on other failures (such
as out-of-bounds accesses) first. Setting this flag means Miri can miss bugs
in your program. However, this can also help to make Miri run faster. Using
this flag is <strong>unsound</strong>.</li><li><code>-Zmiri-disable-weak-memory-emulation</code> disables the emulation of some C++11 weak
memory effects.</li><li><code>-Zmiri-native-lib=&lt;path to a shared object file></code> is an experimental flag for providing support
for calling native functions from inside the interpreter via FFI. The flag is supported only on
Unix systems. Functions not provided by that file are still executed via the usual Miri shims.
<strong>WARNING</strong>: If an invalid/incorrect <code>.so</code> file is specified, this can cause Undefined Behavior in
Miri itself! And of course, Miri cannot do any checks on the actions taken by the native code.
Note that Miri has its own handling of file descriptors, so if you want to replace <em>some</em>
functions working on file descriptors, you will have to replace <em>all</em> of them, or the two kinds of
file descriptors will be mixed up. This is <strong>work in progress</strong>; currently, only integer and
pointers arguments and return values are supported and memory allocated by the native code cannot
be accessed from Rust (only the other way around). Native code must not spawn threads that keep
running in the background after the call has returned to Rust and that access Rust-allocated
memory. Finally, the flag is <strong>unsound</strong> in the sense that Miri stops tracking details such as
initialization and provenance on memory shared with native code, so it is easily possible to write
code that has UB which is missed by Miri.</li><li><code>-Zmiri-measureme=&lt;name></code> enables <code>measureme</code> profiling for the interpreted program.
This can be used to find which parts of your program are executing slowly under Miri.
The profile is written out to a file inside a directory called <code>&lt;name></code>, and can be processed
using the tools in the repository <a href=https://github.com/rust-lang/measureme target=_blank>https://github.com/rust-lang/measureme</a>.</li><li><code>-Zmiri-mute-stdout-stderr</code> silently ignores all writes to stdout and stderr,
but reports to the program that it did actually write. This is useful when you
are not interested in the actual program&rsquo;s output, but only want to see Miri&rsquo;s
errors and warnings.</li><li><code>-Zmiri-recursive-validation</code> is a <em>highly experimental</em> flag that makes validity checking
recurse below references.</li><li><code>-Zmiri-retag-fields[=&lt;all|none|scalar>]</code> controls when Stacked Borrows retagging recurses into
fields. <code>all</code> means it always recurses (the default, and equivalent to <code>-Zmiri-retag-fields</code>
without an explicit value), <code>none</code> means it never recurses, <code>scalar</code> means it only recurses for
types where we would also emit <code>noalias</code> annotations in the generated LLVM IR (types passed as
individual scalars or pairs of scalars). Setting this to <code>none</code> is <strong>unsound</strong>.</li><li><code>-Zmiri-provenance-gc=&lt;blocks></code> configures how often the pointer provenance garbage collector runs.
The default is to search for and remove unreachable provenance once every <code>10000</code> basic blocks. Setting
this to <code>0</code> disables the garbage collector, which causes some programs to have explosive memory
usage and/or super-linear runtime.</li><li><code>-Zmiri-track-alloc-accesses</code> show not only allocation and free events for tracked allocations,
but also reads and writes.</li><li><code>-Zmiri-track-alloc-id=&lt;id1>,&lt;id2>,...</code> shows a backtrace when the given allocations are
being allocated or freed. This helps in debugging memory leaks and
use after free bugs. Specifying this argument multiple times does not overwrite the previous
values, instead it appends its values to the list. Listing an id multiple times has no effect.</li><li><code>-Zmiri-track-pointer-tag=&lt;tag1>,&lt;tag2>,...</code> shows a backtrace when a given pointer tag
is created and when (if ever) it is popped from a borrow stack (which is where the tag becomes invalid
and any future use of it will error). This helps you in finding out why UB is
happening and where in your code would be a good place to look for it.
Specifying this argument multiple times does not overwrite the previous
values, instead it appends its values to the list. Listing a tag multiple times has no effect.</li><li><code>-Zmiri-track-weak-memory-loads</code> shows a backtrace when weak memory emulation returns an outdated
value from a load. This can help diagnose problems that disappear under
<code>-Zmiri-disable-weak-memory-emulation</code>.</li><li><code>-Zmiri-tree-borrows</code> replaces <a href=https://github.com/rust-lang/unsafe-code-guidelines/blob/master/wip/stacked-borrows.md target=_blank>Stacked Borrows</a> with the <a href=https://perso.crans.org/vanille/treebor/ target=_blank>Tree Borrows</a> rules.
Tree Borrows is even more experimental than Stacked Borrows. While Tree Borrows
is still sound in the sense of catching all aliasing violations that current versions
of the compiler might exploit, it is likely that the eventual final aliasing model
of Rust will be stricter than Tree Borrows. In other words, if you use Tree Borrows,
even if your code is accepted today, it might be declared UB in the future.
This is much less likely with Stacked Borrows.
Using Tree Borrows currently implies <code>-Zmiri-strict-provenance</code> because integer-to-pointer
casts are not supported in this mode, but that may change in the future.</li><li><code>-Zmiri-force-page-size=&lt;num></code> overrides the default page size for an architecture, in multiples of 1k.
<code>4</code> is default for most targets. This value should always be a power of 2 and nonzero.</li><li><code>-Zmiri-unique-is-unique</code> performs additional aliasing checks for <code>core::ptr::Unique</code> to ensure
that it could theoretically be considered <code>noalias</code>. This flag is experimental and has
an effect only when used with <code>-Zmiri-tree-borrows</code>.</li></ul><p>Some native rustc <code>-Z</code> flags are also very relevant for Miri:</p><ul><li><code>-Zmir-opt-level</code> controls how many MIR optimizations are performed. Miri
overrides the default to be <code>0</code>; be advised that using any higher level can
make Miri miss bugs in your program because they got optimized away.</li><li><code>-Zalways-encode-mir</code> makes rustc dump MIR even for completely monomorphic
functions. This is needed so that Miri can execute such functions, so Miri
sets this flag per default.</li><li><code>-Zmir-emit-retag</code> controls whether <code>Retag</code> statements are emitted. Miri
enables this per default because it is needed for <a href=https://github.com/rust-lang/unsafe-code-guidelines/blob/master/wip/stacked-borrows.md target=_blank>Stacked Borrows</a> and <a href=https://perso.crans.org/vanille/treebor/ target=_blank>Tree Borrows</a>.</li></ul><p>Moreover, Miri recognizes some environment variables:</p><ul><li><code>MIRIFLAGS</code> defines extra flags to be passed to Miri.</li><li><code>MIRI_LIB_SRC</code> defines the directory where Miri expects the sources of the standard library that
it will build and use for interpretation. This directory must point to the <code>library</code> subdirectory
of a <code>rust-lang/rust</code> repository checkout.</li><li><code>MIRI_SYSROOT</code> indicates the sysroot to use. When using <code>cargo miri test</code>/<code>cargo miri run</code>, this skips the automatic
setup &ndash; only set this if you do not want to use the automatically created sysroot. When invoking
<code>cargo miri setup</code>, this indicates where the sysroot will be put.</li><li><code>MIRI_NO_STD</code> makes sure that the target&rsquo;s sysroot is built without libstd. This allows testing
and running no_std programs. This should <em>not usually be used</em>; Miri has a heuristic to detect
no-std targets based on the target name. Setting this on a target that does support libstd can
lead to confusing results.</li></ul><div id=miri-extern-functions class=anchor></div><h2 class="relative group">Miri <code>extern</code> functions
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#miri-extern-functions aria-label=Anchor>#</a></span></h2><p>Miri provides some <code>extern</code> functions that programs can import to access
Miri-specific functionality. They are declared in
<a href=/tests/utils/miri_extern.rs>/tests/utils/miri_extern.rs</a>.</p><div id=entry-point-for-no-std-binaries class=anchor></div><h2 class="relative group">Entry point for no-std binaries
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#entry-point-for-no-std-binaries aria-label=Anchor>#</a></span></h2><p>Binaries that do not use the standard library are expected to declare a function like this so that
Miri knows where it is supposed to start execution:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=line><span class=cl><span class=cp>#[cfg(miri)]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=cp>#[no_mangle]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>fn</span> <span class=nf>miri_start</span><span class=p>(</span><span class=n>argc</span>: <span class=kt>isize</span><span class=p>,</span><span class=w> </span><span class=n>argv</span>: <span class=o>*</span><span class=k>const</span><span class=w> </span><span class=o>*</span><span class=k>const</span><span class=w> </span><span class=kt>u8</span><span class=p>)</span><span class=w> </span>-&gt; <span class=kt>isize</span> <span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// Call the actual start function that your project implements, based on your target&#39;s conventions.
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><div id=contributing-and-getting-help class=anchor></div><h2 class="relative group">Contributing and getting help
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#contributing-and-getting-help aria-label=Anchor>#</a></span></h2><p>If you want to contribute to Miri, great! Please check out our
<a href=CONTRIBUTING.md>contribution guide</a>.</p><p>For help with running Miri, you can open an issue here on
GitHub or use the <a href=https://rust-lang.zulipchat.com/#narrow/stream/269128-miri target=_blank>Miri stream on the Rust Zulip</a>.</p><div id=history class=anchor></div><h2 class="relative group">History
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#history aria-label=Anchor>#</a></span></h2><p>This project began as part of an undergraduate research course in 2015 by
@solson at the <a href=https://www.usask.ca/ target=_blank>University of Saskatchewan</a>. There are <a href=https://solson.me/miri-slides.pdf target=_blank>slides</a> and a
<a href=https://solson.me/miri-report.pdf target=_blank>report</a> available from that project. In 2016, @oli-obk joined to prepare Miri
for eventually being used as const evaluator in the Rust compiler itself
(basically, for <code>const</code> and <code>static</code> stuff), replacing the old evaluator that
worked directly on the AST. In 2017, @RalfJung did an internship with Mozilla
and began developing Miri towards a tool for detecting undefined behavior, and
also using Miri as a way to explore the consequences of various possible
definitions for undefined behavior in Rust. @oli-obk&rsquo;s move of the Miri engine
into the compiler finally came to completion in early 2018. Meanwhile, later
that year, @RalfJung did a second internship, developing Miri further with
support for checking basic type invariants and verifying that references are
used according to their aliasing restrictions.</p><div id=bugs-found-by-miri class=anchor></div><h2 class="relative group">Bugs found by Miri
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#bugs-found-by-miri aria-label=Anchor>#</a></span></h2><p>Miri has already found a number of bugs in the Rust standard library and beyond, some of which we collect here.
If Miri helped you find a subtle UB bug in your code, we&rsquo;d appreciate a PR adding it to the list!</p><p>Definite bugs found:</p><ul><li><a href=https://github.com/rust-lang/rust/issues/53566 target=_blank><code>Debug for vec_deque::Iter</code> accessing uninitialized memory</a></li><li><a href=https://github.com/rust-lang/rust/pull/53804 target=_blank><code>Vec::into_iter</code> doing an unaligned ZST read</a></li><li><a href=https://github.com/rust-lang/rust/issues/54908 target=_blank><code>From&lt;&[T]> for Rc</code> creating a not sufficiently aligned reference</a></li><li><a href=https://github.com/rust-lang/rust/issues/54957 target=_blank><code>BTreeMap</code> creating a shared reference pointing to a too small allocation</a></li><li><a href=https://github.com/rust-lang/rust/pull/61082 target=_blank><code>Vec::append</code> creating a dangling reference</a></li><li><a href=https://github.com/rust-lang/rust/pull/56319 target=_blank>Futures turning a shared reference into a mutable one</a></li><li><a href=https://github.com/rust-lang/rust/pull/58200 target=_blank><code>str</code> turning a shared reference into a mutable one</a></li><li><a href=https://github.com/rust-random/rand/issues/779 target=_blank><code>rand</code> performing unaligned reads</a></li><li><a href=https://github.com/rust-lang/rust/issues/62251 target=_blank>The Unix allocator calling <code>posix_memalign</code> in an invalid way</a></li><li><a href=https://github.com/rust-random/getrandom/pull/73 target=_blank><code>getrandom</code> calling the <code>getrandom</code> syscall in an invalid way</a></li><li><a href=https://github.com/rust-lang/rust/issues/69770 target=_blank><code>Vec</code></a> and <a href=https://github.com/rust-lang/rust/issues/69769 target=_blank><code>BTreeMap</code></a> leaking memory under some (panicky) conditions</li><li><a href=https://github.com/maciejhirsz/beef/issues/12 target=_blank><code>beef</code> leaking memory</a></li><li><a href=https://github.com/Firstyear/concread/commit/b15be53b6ec076acb295a5c0483cdb4bf9be838f#diff-6282b2fc8e98bd089a1f0c86f648157cR229 target=_blank><code>EbrCell</code> using uninitialized memory incorrectly</a></li><li><a href=https://github.com/tikv/tikv/issues/7613 target=_blank>TiKV performing an unaligned pointer access</a></li><li><a href=https://github.com/servo/servo/issues/26357 target=_blank><code>servo_arc</code> creating a dangling shared reference</a></li><li><a href=https://github.com/tikv/tikv/pull/7751 target=_blank>TiKV constructing out-of-bounds pointers (and overlapping mutable references)</a></li><li><a href=https://github.com/hsivonen/encoding_rs/pull/53 target=_blank><code>encoding_rs</code> doing out-of-bounds pointer arithmetic</a></li><li><a href=https://github.com/tikv/agatedb/pull/24 target=_blank>TiKV using <code>Vec::from_raw_parts</code> incorrectly</a></li><li>Incorrect doctests for <a href=https://github.com/rust-lang/rust/pull/84052 target=_blank><code>AtomicPtr</code></a> and <a href=https://github.com/rust-lang/rust/pull/84053 target=_blank><code>Box::from_raw_in</code></a></li><li><a href=https://github.com/Gankra/thin-vec/pull/27 target=_blank>Insufficient alignment in <code>ThinVec</code></a></li><li><a href=https://github.com/crossbeam-rs/crossbeam/pull/779 target=_blank><code>crossbeam-epoch</code> calling <code>assume_init</code> on a partly-initialized <code>MaybeUninit</code></a></li><li><a href=https://github.com/dermesser/integer-encoding-rs/pull/23 target=_blank><code>integer-encoding</code> dereferencing a misaligned pointer</a></li><li><a href=https://github.com/rkyv/rkyv/commit/a9417193a34757e12e24263178be8b2eebb72456 target=_blank><code>rkyv</code> constructing a <code>Box&lt;[u8]></code> from an overaligned allocation</a></li><li><a href=https://github.com/vorner/arc-swap/issues/76 target=_blank>Data race in <code>arc-swap</code></a></li><li><a href=https://github.com/rust-lang/rust/issues/98498 target=_blank>Data race in <code>thread::scope</code></a></li><li><a href="https://www.reddit.com/r/rust/comments/vq3mmu/comment/ienc7t0?context=3" target=_blank><code>regex</code> incorrectly handling unaligned <code>Vec&lt;u8></code> buffers</a></li><li><a href=https://github.com/matklad/once_cell/issues/186 target=_blank>Incorrect use of <code>compare_exchange_weak</code> in <code>once_cell</code></a></li><li><a href=https://github.com/rust-lang/rust/pull/106084 target=_blank>Dropping with unaligned pointers in <code>vec::IntoIter</code></a></li><li><a href=https://github.com/rust-lang/rust/pull/118460 target=_blank>Deallocating with the wrong layout in new specializations for in-place <code>Iterator::collect</code></a></li><li><a href=https://github.com/taiki-e/portable-atomic/pull/138 target=_blank>Incorrect offset computation for highly-aligned types in <code>portable-atomic-util</code></a></li><li><a href=https://github.com/rust-lang/rust/issues/121582 target=_blank>Occasional memory leak in <code>std::mpsc</code> channels</a> (original code in <a href=https://github.com/crossbeam-rs/crossbeam/pull/1084 target=_blank>crossbeam</a>)</li><li><a href=https://github.com/rust-lang/rust/pull/124281 target=_blank>Weak-memory-induced memory leak in Windows thread-local storage</a></li><li><a href=https://rust-lang.zulipchat.com/#narrow/channel/269128-miri/topic/Miri.20error.20library.20test target=_blank>A bug in the new <code>RwLock::downgrade</code> implementation</a> (caught by Miri before it landed in the Rust repo)</li></ul><p>Violations of <a href=https://github.com/rust-lang/unsafe-code-guidelines/blob/master/wip/stacked-borrows.md target=_blank>Stacked Borrows</a> found that are likely bugs (but Stacked Borrows is currently just an experiment):</p><ul><li><a href=https://github.com/rust-lang/rust/pull/56161 target=_blank><code>VecDeque::drain</code> creating overlapping mutable references</a></li><li>Various <code>BTreeMap</code> problems<ul><li><a href=https://github.com/rust-lang/rust/pull/58431 target=_blank><code>BTreeMap</code> iterators creating mutable references that overlap with shared references</a></li><li><a href=https://github.com/rust-lang/rust/issues/73915 target=_blank><code>BTreeMap::iter_mut</code> creating overlapping mutable references</a></li><li><a href=https://github.com/rust-lang/rust/issues/78477 target=_blank><code>BTreeMap</code> node insertion using raw pointers outside their valid memory area</a></li></ul></li><li><a href=https://github.com/rust-lang/rust/pull/60072 target=_blank><code>LinkedList</code> cursor insertion creating overlapping mutable references</a></li><li><a href=https://github.com/rust-lang/rust/issues/60847 target=_blank><code>Vec::push</code> invalidating existing references into the vector</a></li><li><a href=https://github.com/rust-lang/rust/issues/68549 target=_blank><code>align_to_mut</code> violating uniqueness of mutable references</a></li><li><a href=https://github.com/bodil/sized-chunks/issues/8 target=_blank><code>sized-chunks</code> creating aliasing mutable references</a></li><li><a href=https://github.com/rust-lang/rust/issues/70301 target=_blank><code>String::push_str</code> invalidating existing references into the string</a></li><li><a href=https://github.com/dtolnay/ryu/issues/24 target=_blank><code>ryu</code> using raw pointers outside their valid memory area</a></li><li><a href=https://github.com/rust-lang/miri/issues/1364 target=_blank>ink! creating overlapping mutable references</a></li><li><a href=https://github.com/tikv/tikv/pull/7709 target=_blank>TiKV creating overlapping mutable reference and raw pointer</a></li><li><a href=https://github.com/rust-lang/rust/pull/70479 target=_blank>Windows <code>Env</code> iterator using a raw pointer outside its valid memory area</a></li><li><a href=https://github.com/rust-lang/rust/issues/74029 target=_blank><code>VecDeque::iter_mut</code> creating overlapping mutable references</a></li><li><a href=https://github.com/rust-lang/rust/pull/78602 target=_blank>Various standard library aliasing issues involving raw pointers</a></li><li><a href=https://github.com/rust-lang/rust/pull/85610 target=_blank><code>&lt;[T]>::copy_within</code> using a loan after invalidating it</a></li></ul><div id=scientific-papers-employing-miri class=anchor></div><h2 class="relative group">Scientific papers employing Miri
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#scientific-papers-employing-miri aria-label=Anchor>#</a></span></h2><ul><li><a href=https://plv.mpi-sws.org/rustbelt/stacked-borrows/ target=_blank>Stacked Borrows: An Aliasing Model for Rust</a></li><li><a href=https://www.amazon.science/publications/using-lightweight-formal-methods-to-validate-a-key-value-storage-node-in-amazon-s3 target=_blank>Using Lightweight Formal Methods to Validate a Key-Value Storage Node in Amazon S3</a></li><li><a href=https://dl.acm.org/doi/10.1145/3453483.3454084 target=_blank>SyRust: Automatic Testing of Rust Libraries with Semantic-Aware Program Synthesis</a></li></ul><div id=license class=anchor></div><h2 class="relative group">License
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#license aria-label=Anchor>#</a></span></h2><p>Licensed under either of</p><ul><li>Apache License, Version 2.0 (<a href=LICENSE-APACHE>
LICENSE-APACHE</a> or
<a href=http://www.apache.org/licenses/LICENSE-2.0 target=_blank>http://www.apache.org/licenses/LICENSE-2.0</a>)</li><li>MIT license (<a href=LICENSE-MIT>
LICENSE-MIT</a> or
<a href=http://opensource.org/licenses/MIT target=_blank>http://opensource.org/licenses/MIT</a>)</li></ul><p>at your option.</p><div id=contribution class=anchor></div><h3 class="relative group">Contribution
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#contribution aria-label=Anchor>#</a></span></h3><p>Unless you explicitly state otherwise, any contribution intentionally submitted
for inclusion in the work by you shall be dual licensed as above, without any
additional terms or conditions.</p></div></div><script>var oid="views_projects/miri.md",oid_likes="likes_projects/miri.md"</script><script type=text/javascript src=/js/page.min.0e49973b4ad0a382c7c6012d8bff8226316642daabc4f8a20477bd08674f3da6e2fa993bc20ad4f51e7c5bb68e6f913a207a7c4fe37ea0e7b806894afce0a64e.js integrity="sha512-DkmXO0rQo4LHxgEti/+CJjFmQtqrxPiiBHe9CGdPPabi+pk7wgrU9R58W7aOb5E6IHp8T+N+oOe4BolK/OCmTg=="></script></section><footer class="pt-8 max-w-prose print:hidden"><div class=pt-8><hr class="border-dotted border-neutral-300 dark:border-neutral-600"><div class="flex justify-between pt-3"><span><a class="flex group mr-3" href=/projects/go-game-in-go-lang/><span class="mr-3 text-neutral-700 group-hover:text-primary-600 ltr:inline rtl:hidden dark:text-neutral dark:group-hover:text-primary-400">&larr;</span>
<span class="ml-3 text-neutral-700 group-hover:text-primary-600 ltr:hidden rtl:inline dark:text-neutral dark:group-hover:text-primary-400">&rarr;</span>
<span class="flex flex-col"><span class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500">go-game-in-go-lang</span>
<span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400"><time datetime="2024-10-05 00:00:00 +0000 UTC">5 October 2024</time></span></span></a></span>
<span><a class="flex text-right group ml-3" href=/projects/unit-language/><span class="flex flex-col"><span class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500">unit-language</span>
<span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400"><time datetime="2024-10-12 00:00:00 +0000 UTC">12 October 2024</time></span></span>
<span class="ml-3 text-neutral-700 group-hover:text-primary-600 ltr:inline rtl:hidden dark:text-neutral dark:group-hover:text-primary-400">&rarr;</span>
<span class="mr-3 text-neutral-700 group-hover:text-primary-600 ltr:hidden rtl:inline dark:text-neutral dark:group-hover:text-primary-400">&larr;</span></a></span></div></div></footer></article><div id=top-scroller class="pointer-events-none absolute top-[110vh] bottom-0 w-12 ltr:right-0 rtl:left-0"><a href=#the-top class="pointer-events-auto sticky top-[calc(100vh-5.5rem)] flex h-12 w-12 mb-16 items-center justify-center rounded-full bg-neutral/50 text-xl text-neutral-700 backdrop-blur hover:text-primary-600 dark:bg-neutral-800/50 dark:text-neutral dark:hover:text-primary-400" aria-label="Scroll to top" title="Scroll to top">&uarr;</a></div></main><footer id=site-footer class="py-10 print:hidden"><div class="flex items-center justify-between"><p class="text-sm text-neutral-500 dark:text-neutral-400">&copy;
2026
Jake Roggenbuck</p></div><script>mediumZoom(document.querySelectorAll("img:not(.nozoom)"),{margin:24,background:"rgba(0,0,0,0.5)",scrollOffset:0})</script><script type=text/javascript src=/js/process.min.35c1113bcc16c5a59bf031082f9e63822aa95280423881a7847a7ff33a16e6299ce6a840d9ef4e10d947e030a18f3f20359afb2ec0f35967484b9a9360ac3145.js integrity="sha512-NcERO8wWxaWb8DEIL55jgiqpUoBCOIGnhHp/8zoW5imc5qhA2e9OENlH4DChjz8gNZr7LsDzWWdIS5qTYKwxRQ=="></script></footer><div id=search-wrapper class="invisible fixed inset-0 flex h-screen w-screen cursor-default flex-col bg-neutral-500/50 p-4 backdrop-blur-sm dark:bg-neutral-900/50 sm:p-6 md:p-[10vh] lg:p-[12vh]" data-url style=z-index:500><div id=search-modal class="flex flex-col w-full max-w-3xl min-h-0 mx-auto border rounded-md shadow-lg top-20 border-neutral-200 bg-neutral dark:border-neutral-700 dark:bg-neutral-800"><header class="relative z-10 flex items-center justify-between flex-none px-2"><form class="flex items-center flex-auto min-w-0"><div class="flex items-center justify-center w-8 h-8 text-neutral-400"><span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg></span></div><input type=search id=search-query class="flex flex-auto h-12 mx-1 bg-transparent appearance-none focus:outline-dotted focus:outline-2 focus:outline-transparent" placeholder=Search tabindex=0></form><button id=close-search-button class="flex items-center justify-center w-8 h-8 text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400" title="Close (Esc)">
<span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentcolor" d="M310.6 361.4c12.5 12.5 12.5 32.75.0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3 54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75.0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75.0-45.25s32.75-12.5 45.25.0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25.0s12.5 32.75.0 45.25l-105.4 105.4L310.6 361.4z"/></svg></span></button></header><section class="flex-auto px-2 overflow-auto"><ul id=search-results></ul></section></div></div></div></body></html>